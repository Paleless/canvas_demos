{"version":3,"sources":["demo4/main.js"],"names":["canvas","document","querySelector","ctx","getContext","env","width","window","innerWidth","height","innerHeight","hue","particles","cx","cy","bg","random","min","max","Math","floor","distance","x1","y1","x2","y2","disX","disY","sqrt","pow","deg","o","PI","Particle","x","y","angle","atan2","r","cos","sin","v","coords","Array","fill","pop","unshift","lastPoint","length","beginPath","moveTo","lineTo","stroke","update","init","createRadialGradient","addColorStop","i","push","bind","addEventListener","e","fn","pageX","pageY","removeEventListener","animate","argument","fillStyle","strokeStyle","fillRect","forEach","particle","draw","requestAnimationFrame"],"mappings":"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","file":"main.f63621bc.map","sourceRoot":"..","sourcesContent":["const canvas = document.querySelector('canvas')\nconst ctx = canvas.getContext('2d')\nconst env = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    hue: 0,\n    particles: [],\n    cx: window.innerWidth / 2,\n    cy: window.innerHeight / 2,\n    bg: null\n}\n\nfunction random(min, max) {\n    return Math.floor(min + Math.random() * (max - min))\n}\n\nfunction distance(x1, y1, x2, y2) {\n    const disX = x1 - x2\n    const disY = y1 - y2\n    return Math.sqrt(Math.pow(disX, 2) + Math.pow(disY, 2))\n}\n\nfunction deg(o) {\n    return Math.PI * o / 180\n}\n\nclass Particle {\n    constructor({ x, y }) {\n        this.cx = env.cx\n        this.cy = env.cy\n        if (x && y) {\n            this.angle = Math.atan2(y - this.cy, x - this.cx) * 180 / Math.PI\n            this.r = distance(x, y, this.cx, this.cy)\n            this.x = x\n            this.y = y\n        } else {\n            this.angle = random(0, 360)\n            this.r = random(3, env.width / 2)\n            this.x = this.cx + Math.cos(deg(this.angle)) * this.r\n            this.y = this.cy + Math.sin(deg(this.angle)) * this.r\n        }\n        this.v = random(.5, 1.2)\n        this.coords = new Array(5).fill([this.x, this.y])\n\n    }\n\n    update() {\n        this.angle += this.v\n        this.x = this.cx + Math.cos(deg(this.angle)) * this.r\n        this.y = this.cy + Math.sin(deg(this.angle)) * this.r\n        this.coords.pop()\n        this.coords.unshift([this.x, this.y])\n    }\n\n    draw() {\n        const lastPoint = this.coords[this.coords.length - 1]\n        ctx.beginPath();\n        ctx.moveTo(lastPoint[0], lastPoint[1]);\n        ctx.lineTo(this.x, this.y);\n        ctx.stroke();\n        this.update()\n    }\n}\n\n\n(function init() {\n    canvas.width = env.width\n    canvas.height = env.height\n    env.bg = ctx.createRadialGradient(env.width / 2, env.height / 2, 0, env.width / 2, env.height / 2, env.width / 2);\n    env.bg.addColorStop(0, \"red\");\n    env.bg.addColorStop(1, \"blue\");\n    for (let i = 0; i < 5; i++) {\n        env.particles.push(new Particle({}))\n    }\n\n    function bind() {\n        document.addEventListener('mousedown', function(e) {\n            function fn(e) {\n                env.particles.push(new Particle({ x: e.pageX, y: e.pageY }))\n            }\n            document.addEventListener('mousemove', fn)\n            document.addEventListener('mouseup', () => {\n                document.removeEventListener('mousemove', fn)\n            })\n        })\n    }\n\n    function animate(argument) {\n        ctx.fillStyle = \"rgba(0,0,0, .15)\";\n        ctx.strokeStyle = env.bg;\n        ctx.fillRect(0, 0, env.width, env.height);\n        env.hue += .5\n        env.particles.forEach(particle => particle.draw())\n        requestAnimationFrame(animate)\n    }\n    bind()\n    animate()\n}())"]}