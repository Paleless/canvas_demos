{"version":3,"sources":["demo3/main.js"],"names":["env","width","window","innerWidth","height","innerHeight","hue","g","f","canvas","document","querySelector","ctx","getContext","points","targetPoint","random","min","max","Math","floor","distance","x1","y1","x2","y2","disX","disY","sqrt","pow","deg","o","PI","Target","x","y","targetRadius","incLock","strokeStyle","beginPath","arc","stroke","update","Point","tx","ty","angle","r","a","v","coords","Array","fill","sin","cos","pop","unshift","end","length","moveTo","lineTo","draw","globalCompositeOperation","fillStyle","fillRect","forEach","point","requestAnimationFrame","init","i","push"],"mappings":"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","file":"main.2410c824.map","sourceRoot":"..","sourcesContent":["const env = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    hue: 120,\n    g: 1,\n    f: 0.98\n}\n\nconst canvas = document.querySelector('canvas')\nconst ctx = canvas.getContext('2d')\nconst points = []\nlet targetPoint;\n\nfunction random(min, max) {\n    return Math.floor(Math.random() * (max - min) + min)\n}\n\nfunction distance(x1, y1, x2, y2) {\n    const disX = x1 - x2\n    const disY = y1 - y2\n    return Math.sqrt(Math.pow(disX, 2) + Math.pow(disY, 2))\n}\n\nfunction deg(o) {\n    return Math.PI * o / 180\n}\n\nclass Target {\n    constructor({\n        x,\n        y\n    }) {\n        this.x = x\n        this.y = y\n        this.targetRadius = 1\n        this.incLock = false\n    }\n    update() {\n        if (this.targetRadius > 8) {\n            this.incLock = true\n        } else if (this.targetRadius < 1) {\n            this.incLock = false\n        }\n\n        if (this.incLock) {\n            this.targetRadius -= .1\n        } else {\n            this.targetRadius += .1\n        }\n    }\n    draw() {\n        ctx.strokeStyle = `hsl(${env.hue},100%,60%)`\n        ctx.beginPath()\n        ctx.arc(this.x, this.y, this.targetRadius, 0, deg(360))\n        ctx.stroke()\n        this.update()\n    }\n}\n\nclass Point {\n    constructor({ x: tx, y: ty }) {\n        this.x = random(0, env.width)\n        this.y = random(0, env.height)\n        this.tx = tx\n        this.ty = ty\n        this.angle = random(0, 360)\n        this.r = distance(this.x, this.y, tx, ty)\n        this.a = 0\n        this.v = .3\n        this.coords = new Array(2).fill([this.x, this.y])\n    }\n    update() {\n        this.y = Math.sin(deg(this.angle)) * this.r + this.ty\n        this.x = Math.cos(deg(this.angle)) * this.r + this.tx\n        this.v += this.a\n        this.angle += this.v\n        this.coords.pop()\n        this.coords.unshift([this.x, this.y])\n    }\n    draw() {\n        ctx.strokeStyle = `hsl(${env.hue},100%,60%)`\n        ctx.beginPath();\n        const end = this.coords.length - 1\n        ctx.moveTo(this.coords[end][0], this.coords[end][1])\n        ctx.lineTo(this.x, this.y)\n        ctx.stroke()\n        this.update()\n    }\n}\n\nfunction draw() {\n    env.hue += .5\n    if (env.hue > 360) {\n        env.hue = 10\n    }\n    ctx.globalCompositeOperation = \"destination-out\";\n    ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n    ctx.fillRect(0, 0, env.width, env.height);\n    ctx.globalCompositeOperation = \"lighter\";\n    points.forEach(point => {\n        point.draw()\n    })\n    targetPoint.draw()\n    requestAnimationFrame(draw)\n}\n\nfunction init() {\n    canvas.width = env.width\n    canvas.height = env.height\n    targetPoint = new Target({\n        x: env.width / 2,\n        y: env.height / 2\n    })\n    for (let i = 0; i < 500; i++) {\n        points.push(new Point(targetPoint))\n    }\n    draw()\n}\n\ninit()"]}